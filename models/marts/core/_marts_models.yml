version: 2

models:
  - name: dim_addresses
    description: "Dimension table containing address information"
    columns:
      - name: address_id
        data_type: varchar
        description: "Primary key for the address"

      - name: address
        data_type: varchar
        description: "Full address including number and street"

      - name: zipcode
        data_type: number
        description: "Postal code for the address"

      - name: state
        data_type: varchar
        description: "State"

      - name: country
        data_type: varchar
        description: "Country"

  - name: dim_products
    description: "Dimension table containing product information"
    columns:
      - name: product_id
        data_type: varchar
        description: "Primary key for the product"

      - name: name
        data_type: varchar
        description: "Name of the product"

      - name: price
        data_type: float
        description: "Price of the product"

      - name: inventory
        data_type: number
        description: "Number of units of the product in stock"

  - name: dim_promo
    description: "Dimension table containing promotional information"
    columns:
      - name: promo_id
        data_type: varchar
        description: "Primary key for the promotion"

      - name: description
        data_type: varchar
        description: "Name of the promotion"

      - name: discount_dollars
        data_type: number
        description: "Total dollar discount"

      - name: status_id
        data_type: number
        description: "Foreign key: Status of the promotion (active/inactive)"

  - name: dim_event_type
    description: "Dimension table containing event type information (al the possible actions that a user can do)"
    columns:
      - name: event_type_id
        data_type: varchar
        description: "Primary key for the event type"

      - name: event_type
        data_type: varchar
        description: "Type of event"

  - name: dim_shipping_service
    description: "Dimension table containing shipping service information"
    columns:
      - name: shipping_service_id
        data_type: varchar
        description: "Primary key for the shipping service"

      - name: shipping_service
        data_type: varchar
        description: "Name of the company that carry out the shipment"

  - name: dim_status
    description: "Dimension table containing status information."
    columns:
      - name: status_id
        data_type: number
        description: "Primary key for the status."

      - name: description
        data_type: varchar
        description: "status of the promotion (active/inactive)."

  - name: dim_time
    description: "Dimension table containing time information"
    columns:
      - name: date_id
        data_type: date
        description: "Primary key for the date"

      - name: day_of_week
        data_type: number
        description: "Day of the week"

      - name: day_of_week_name
        data_type: varchar
        description: "Name of the day of the week"

      - name: day_of_month
        data_type: number
        description: "Day of the month"

      - name: day_of_year
        data_type: number
        description: "Day of the year"

      - name: week_of_year
        data_type: number
        description: "Week number of the year"

      - name: month_name
        data_type: varchar
        description: "Name of the month"

      - name: month_of_year
        data_type: number
        description: "Month number of the year"

      - name: quarter_of_year
        data_type: number
        description: "Quarter number of the year"

      - name: year_number
        data_type: number
        description: "Year"

  - name: dim_users
    description: "Dimension table containing user information"
    columns:
      - name: user_id
        data_type: varchar
        description: "Primary key for the use"

      - name: first_name
        data_type: varchar
        description: "User's first name"

      - name: last_name
        data_type: varchar
        description: "User's last name"

      - name: email
        data_type: varchar
        description: "User's email"

      - name: phone_number
        data_type: varchar
        description: "User's phone number"

      - name: total_orders
        data_type: number
        description: "User's total orders"  

      - name: created_at
        data_type: date
        description: "Date of creation of the user record"
        
      - name: updated_at
        data_type: date
        description: "Date of update od user data"


  - name: dim_tracking_status
    description: "Dimension table containing tracking status information"
    columns:
      - name: tracking_status_id
        data_type: number
        description: "Primary key for the tracking status"

      - name: description
        data_type: varchar
        description: "type of status: preparing, shipped, delivered"

  - name: fct_order_products
    description: "Fact table containing order product information"
    columns:
      - name: order_item_id
        data_type: varchar
        description: "Primary key for item per order."

      - name: order_id
        data_type: varchar
        description: "Foreign key of the order"

      - name: product_id
        data_type: varchar
        description: "Foreign key: ID of the product"

      - name: user_id
        data_type: varchar
        description: "Foreign key: ID of the user"

      - name: address_id
        data_type: varchar
        description: "Foreign key: ID of the address"

      - name: promo_id
        data_type: varchar
        description: "Foreign key: ID of the promotion"

      - name: tracking_status_id
        data_type: number
        description: "Foreign key: ID of the tracking status"

      - name: shipping_service_id
        data_type: varchar
        description: "Foreign key: ID of the shipping service"

      - name: quantity
        data_type: number
        description: "Quantity of the product ordered"

      - name: total_price_xproduct
        data_type: float
        description: "price for the whole of a product type in a order"

      - name: order_cost
        data_type: float
        description: "Total cost of products sold without additional shipping costs"

      - name: shipping_cost_xproduct
        data_type: float
        description: "Shipping cost for the product"

      - name: shipping_cost
        data_type: float
        description: "Total shipping cost"

      - name: order_total
        data_type: float
        description: "Total cost including shipping costs"

      - name: total_discount
        data_type: float
        description: "Total discount applied in that product"

      - name: date_of_order
        data_type: date
        description: "Date when the order was placed."

      - name: date_load
        data_type: timestamp_tz
        description: "Timestamp when the data was loaded."

  - name: fct_budget
    description: "Fact table containing budget information."
    columns:
      - name: _row
        data_type: number
        description: "Row number for internal use."

      - name: product_id
        data_type: varchar
        description: "Foreign key: ID of the product."

      - name: quantity
        data_type: number
        description: "Budgeted quantity of the product."

      - name: month
        data_type: date
        description: "Month for the budgeted quantity."

      - name: date_load
        data_type: timestamp_tz
        description: "Timestamp when the data was loaded."
  
  - name: fct_events
    description: "Fact table containing events information."
    columns:
      - name: event_id
        data_type: varchar
        description: "Primary key for the event."

      - name: event_type_id
        data_type: varchar
        description: "Foreign key: ID of the event type."

      - name: user_id
        data_type: varchar
        description: "Foreign key: ID of the user who triggered the event."

      - name: session_id
        data_type: varchar
        description: "ID of the session during which the event occurred."

      - name: page_url
        data_type: varchar
        description: "URL of the page where the event occurred."

      - name: product_id
        data_type: varchar
        description: "Foreign key: ID of the product related to the event, if applicable."

      - name: order_id
        data_type: varchar
        description: "Foreign key: ID of the order related to the event, if applicable."

      - name: created_at
        data_type: date
        description: "Timestamp when the event was created."

      - name: date_load
        data_type: timestamp_tz
        description: "Timestamp when the event data was loaded."